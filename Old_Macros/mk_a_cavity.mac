!  eases the generation of pressure cavity
/NOPR
/prep7
/PMACRO
PARSAV
*GET,NUM_LS,area,,COUNT
*DO,LOOP,1,1,
CM,START_,area
*ASK,CAVNUM,CAVITY NUMBER TO CREATE (ZERO TO EXIT),0
*IF,CAVNUM,EQ,0,*EXIT
ASEL,R,P
*GET,N_LS,area,,COUNT
*IF,N_LS,EQ,NUM_LS,*CYCLE
*GET,CHECK,COMP,CAV%CAVNUM%a,TYPE
*IF,CHECK,GT,0,THEN
CMSEL,A,CAV%CAVNUM%a
*ENDIF
CM,CAV%CAVNUM%a,area
AATT,CAVNUM
!KPLS
!CM,KPS_,KP
CMSEL,,START_
cmsel,u,CAV%CAVNUM%a
APLO
*ENDDO
CMDELE,START_
PARRES

/GOPR
